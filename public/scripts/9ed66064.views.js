!function(){PixelMob.ApplicationView=Ember.View.extend({}),PixelMob.HoverableView=Ember.View.extend({tagName:"span",mouseEnter:function(a){return $(a.target).addClass("hover")},mouseLeave:function(a){return $(a.target).removeClass("hover")}}),PixelMob.SlidableNavView=Ember.View.extend({click:function(a){return console.log($(a.target).attr("class")),$(a.target).attr("class").indexOf("navBoxArrow")>-1?$(a.target).parent().slideToggle(function(){return $(a.target).parent().parent().siblings(".ember-view").children(".navPart").slideToggle()}):void 0}})}.call(this),function(){PixelMob.ChannelView=Ember.View.extend({ready:function(){return $(document).ajaxStop(function(){return $(".lazyImg").lazyload()})}})}.call(this),function(){PixelMob.DashboardView=Ember.View.extend({templateName:"dashboard"})}.call(this),function(){PixelMob.SearchView=Ember.View.extend({search:"Test"})}.call(this),function(){PixelMob.EditVideoView=Ember.View.extend({didInsertElement:function(){return $("#description").wysihtml5()},save:function(){return this.get("controller").get("content").set("name",$("#name").val()),this.get("controller").get("content").set("description",$("#description").val()),this.get("controller").get("content").get("transaction").commit()}})}.call(this),function(){PixelMob.GameView=Ember.View.extend({templateName:"game"})}.call(this),function(){PixelMob.NewChannelView=Ember.View.extend({didInsertElement:function(){return $("#file").fileupload({dataType:"json",url:"/api/channels/",add:function(a,b){return console.log("Test"),b.formData={name:$("#name").val()},$("#submit").click(function(){return b.submit(),console.log("test")})}})}})}.call(this),function(){PixelMob.NewChannelView=Ember.View.extend({templateName:"new_channel"})}.call(this),function(){PixelMob.PagenotfoundView=Ember.View.extend({templateName:"pagenotfound"})}.call(this),function(){PixelMob.SigninView=Ember.View.extend({}),PixelMob.LoginButtonView=Ember.View.extend({click:function(){return this.get("controller").signIn($("#email").val(),$("#password").val())}})}.call(this),function(){PixelMob.SignupView=Ember.View.extend({templateName:"signup",singUp:function(){var a;return a=PixelMob.User.createRecord({email:$("#email").val(),password:$("#pass").val()}),a.get("transaction").commit()}})}.call(this),function(){PixelMob.SignoffView=Ember.View.extend({didInsertElement:function(){return this.get("controller").signOff()}})}.call(this),function(){PixelMob.SubscriptionsView=Ember.View.extend({didInsertElement:function(){return $(document).ajaxComplete(function(){return console.log("lazyLodingStar"),$(".lazyImg").lazyload()})},templateName:"subscriptions"})}.call(this),function(){PixelMob.UploadFileView=Ember.View.extend({didInsertElement:function(){var a;return a=void 0,$.ajax({dataType:"json",url:"/api/videos/new"}).done(function(b){return console.log("/api/videos/update/"+b.id),PixelMob.current_user.get("channels"),$("#fileupload").fileupload({dataType:"json",type:"POST",url:"/api/videos/update/"+b.id,progressall:function(a,b){var c,d,e,f;return d=parseInt(100*(b.loaded/b.total),10),e=8*(b.total-b.loaded)/b.bitrate,$("#uploadSpeed").text((b.bitrate/1e6).toFixed(2)+"Mbps"),c=new Date(1e3*e),f=("0"+c.getUTCHours()).slice(-2)+":"+("0"+c.getUTCMinutes()).slice(-2)+":"+("0"+c.getUTCSeconds()).slice(-2)+" Time Remaning",$("#uploadTime").text(f),$(".progress .bar").css("width",d+"%")},add:function(c,d){var e;return console.log("added"),console.log(c),console.log(d),d.submit(),e="<div>",e+="<fieldset><label>Name</label><input name='name' id='name' type='text' /></fieldset>",e+="<fieldset><label>Description</label><textarea name='description' class='wysihtml5' id='description'/></fieldset>",e+="<fieldset><select id='channel' name='channels'>",PixelMob.current_user.get("channels").forEach(function(a){return console.log("ID: "+a.get("id")+" Name: "+a.get("name")),e+="<option value='"+a.get("id")+"'>"+PixelMob.Channel.find(a.get("id")).get("name")+"</option>"}),e+="</select></fieldset>",e+="<fieldset><input type='text' id='games'/></fieldset>",e+="<input type='submit' id='submit' class='btn' name='button'/><span id='loading'>Saved</span></div>",$("#videoForum").append(e),$("#description").wysihtml5(),a=b.id,$("#submit").click(function(){return $("#loading").text("Saving..."),$.ajax({url:"/api/videos/update/"+a,type:"post",data:{video:{name:$("#name").val(),description:$("#description").val(),channel_id:$("#channel").val()}}}).done(function(){return $("#loading").text("Saved")})})},done:function(){}})})}})}.call(this),function(){PixelMob.VideoView=Ember.View.extend({sizeWidth:640,sizeHeight:360,currentRes:null,didInsertElement:function(){var a;return _V_.players={},a=$("#video"),a&&a.canPlayType&&a.canPlayType("video/mp4").replace(/no/,"")||(_V_.options.techOrder=["flash","html5"]),_V_("#video")},large:function(){return this.sizeWidth=1280,this.sizeHeight=720,this.reDraw()},small:function(){return this.sizeWidth=640,this.sizeHeight=340,this.reDraw()},reDraw:function(){var a;return $("#video").remove(),a="<video id='video' controls class='video-js vjs-default-skin' preload='none' width='"+this.sizeWidth+"' height='"+this.sizeHeight+"' poster='"+this.get("controller").get("content").get("file").file.poster.url+"'>",a+="<source  type='video/mp4' src='"+this.currentRes+"'>",a+="</video>",$("#header").append(a),this.didInsertElement()},q1080p:function(){return this.currentRes=this.get("controller").get("content").get("file").file.hd1080p.url,this.reDraw()},q720p:function(){return this.currentRes=this.get("controller").get("content").get("file").file.hd720p.url,this.reDraw()},q360p:function(){return this.currentRes=this.get("controller").get("content").get("file").file.sd.url,this.reDraw()}}),PixelMob.SubscribeButtonView=Ember.View.extend({click:function(){var a;return this.get("controller").get("content").get("channel").get("subscribed")?(a=this.get("controller").get("content").get("channel").get("id"),$.ajax({url:"/api/user/unsubscribe/"+a,type:"POST"}),$("#subscribeButton").removeClass("btn-danger"),$("#subscribeButton").addClass("btn-primary"),$("#subscribeButton").text("Subscribe"),PixelMob.__container__.lookup("controller:subscriptions").set("force",Math.random()),PixelMob.__container__.lookup("controller:subscriptions").set("force",Math.random()),PixelMob.current_user.get("subscriptions").pushObject(this.get("controller").get("content").get("channel")),this.get("controller").get("content").get("channel").reload(),PixelMob.current_user.reload()):(a=this.get("controller").get("content").get("channel").get("id"),$.ajax({url:"/api/user/subscribe/"+a,type:"POST"}),$("#subscribeButton").removeClass("btn-primary"),$("#subscribeButton").addClass("btn-danger"),$("#subscribeButton").text("Unsubscribe"),PixelMob.__container__.lookup("controller:subscriptions").set("force",Math.random()),PixelMob.current_user.get("subscriptions").pushObject(this.get("controller").get("content").get("channel")),this.get("controller").get("content").get("channel").reload(),PixelMob.current_user.reload())}}),PixelMob.CommentView=Ember.View.extend({comment:null,newComment:function(){var a,b=this;return a="<div>",a+="<fieldset>",this.get("comment")?(a+="<textarea style='width:550px;height:250px;' class='newComment"+this.get("comment").get("id")+"'></textarea>",a+="<br/>",a+="<button class='btn-primary btn' id='"+this.get("comment").get("id")+"'>Comment</button>",this.$().append(a),$(".newComment"+this.get("comment").get("id")).wysihtml5(),$("#"+this.get("comment").get("id")+".btn").click(function(){var a;return console.log($(".newComment#"+b.get("comment").get("id")).val()),a=PixelMob.Comment.createRecord({body:$(".newComment"+b.get("comment").get("id")).val(),parent_comment:PixelMob.Comment.find(b.get("comment").get("id")),video:b.get("controller").get("content"),user:PixelMob.current_user}),a.get("transaction").commit()})):(a+="<textarea style='width:550px;height:250px;' class='newCommentFirst'></textarea>",a+="<br/>",a+="<button class='btn-primary btn' id='submitButton'>Comment</button>",this.$().append(a),$(".newCommentFirst").wysihtml5(),$("#submitButton.btn").click(function(){var a;return a=PixelMob.Comment.createRecord({body:$(".newCommentFirst").val(),video:b.get("controller").get("content"),user:PixelMob.current_user}),a.get("transaction").commit()}))}})}.call(this),function(){PixelMob.VideoSearchView=Ember.View.extend({templateName:"videos"})}.call(this),function(){PixelMob.VideosView=Ember.View.extend({didInsertElement:function(){return $(document).ajaxComplete(function(){return $(".lazyImg").lazyload()})}})}.call(this);